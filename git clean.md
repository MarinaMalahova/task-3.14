###GIT CLEAN
___
Команда **git clean** используется для удаления мусора из рабочего каталога. Это могут быть результаты сборки проекта или файлы конфликтов слияний.

У вас может возникнуть желание не прятать некоторые из изменений или файлов в вашем рабочем каталоге, а просто избавиться от них. Команда *git clean* сделает это для вас.

Но нужно быть очень аккуратными с этой командой, так как она предназначена для удаления неотслеживаемых файлов из вашего рабочего каталога. Даже если вы передумаете, очень часто нельзя восстановить содержимое таких файлов. Более безопасным вариантом является использование команды **git stash --all** для удаления всего, но с сохранением этого в виде припрятанных изменений.


Предположим, вы хотите удалить мусор и очистить ваш рабочий каталог; вы можете сделать это с помощью git clean. Для удаления всех неотслеживаемых файлов в вашем рабочем каталоге, вы можете выполнить команду **git clean -f -d**, которая удалит все файлы и также все каталоги, которые в результате станут пустыми. Параметр **-f** (сокращение от слова force — заставить) означает принудительное удаление, подчеркивая, что вы действительно хотите это сделать, и требуется, если переменная конфигурации *Git clean.requireForce* явным образом не установлена в *false*.

Если вы хотите только посмотреть, что будет сделано, вы можете запустить команду с опцией -n, которая означает «имитируй работу команды и скажи мне, что ты будешь удалять».

    $ git clean -d -n
    Would remove test.o
    Would remove tmp/

По умолчанию команда git clean будет удалять только неотслеживаемые файлы, которые не добавлены в список игнорируемых. Любой файл, который соответствует шаблону в вашем .gitignore, или другие игнорируемые файлы не будут удалены. Если вы хотите удалить и эти файлы (например, удалить все .o-файлы, генерируемые в процессе сборки, и таким образом полностью очистить сборку), вы можете передать команде очистки опцию **-x**.

    $ git status -s
     M lib/simplegit.rb
    ?? build.TMP
    ?? tmp/

    $ git clean -n -d
    Would remove build.TMP
    Would remove tmp/

    $ git clean -n -d -x
    Would remove build.TMP
    Would remove test.o
    Would remove tmp/

*Если вы не знаете, что сделает при запуске команда* **git clean**, *всегда сначала выполняйте её с опцией* **-n**, чтобы проверить дважды, перед заменой -n на -f и выполнением настоящей очистки. 

Другой способ, который позволяет вам более тщательно контролировать сам процесс — это выполнение команды с опцией **-i** (в «интерактивном» режиме).

Ниже выполнена команда очистки в интерактивном режиме.

    $ git clean -x -i
    Would remove the following items:
    build.TMP  test.o
    *** Commands ***
    1: clean                2: filter by pattern    3: select by numbers    4: ask each             5: quit
    6: help
    What now>

Таким образом, вы можете просмотреть каждый файл индивидуально или указать шаблоны для удаления в интерактивном режиме.

|**<span style="color:red">Примечание</span>**|Существует причудливая ситуация, когда вам, возможно, придется проявить особую настойчивость, попросив Git очистить ваш рабочий каталог. Если вы оказались в рабочем каталоге, в который вы скопировали или клонировали другие репозитории Git (возможно, в виде подмодулей), даже git clean -fd откажется удалить эти каталоги. В таких случаях вам нужно добавить второй параметр -f для акцентирования|
|----------|--------------|

[<Перейти к предыдущей странице](/git%20mv.md)
[<Вернуться к содержанию](/readme.md)